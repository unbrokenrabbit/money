{% extends "navigation.html" %}

{% block content %}
<h1>Debug</h1>
{{ debug }}
<br/>
<form action="{{ url_for( 'debug' ) }}" method="POST">
    <label>Username</label>
    <br/>
    <input type="text" name="username" />
    <br/>
    <label>Password</label>
    <br/>
    <input type="text" name="password" />
    <br/>
    <input type="submit" value="add user" />
</form>
<form action="{{ url_for( 'debug_initialize_database' ) }}" method="post">
    <button name="debug_initialize_database_button" value="debug_initialize_database_button">Initialize Database</button>
</form>
<form action="{{ url_for( 'debug_remove_all_transactions' ) }}" method="post">
    <button name="debug_remove_all_transactions_button" value="debug_remove_all_transactions_button">Remove All Transactions</button>
</form>
<h2>Misc</h2>
Transactions Removed: {{ transactions_removed_count }}<br/>
<h1>Transactions ({{ transactions|length }})</h1>
<table>
    <tr>
        <th>instance</th>
        <th>bucket</th>
        <th>bucket_status</th>
        <th>account</th>
        <th>date</th>
        <th>amount</th>
        <th>description</th>
    </tr>
    {% for transaction in transactions %}
    <tr>
        <td>{{ transaction.instance }}</td>
        <td>{{ transaction.bucket }}</td>
        <td>{{ transaction.bucket_status }}</td>
        <td>{{ transaction.account }}</td>
        <td>{{ transaction.date }}</td>
        <td>{{ transaction.amount }}</td>
        <td>{{ transaction.description }}</td>
    </tr>
    {% endfor %}
</table>




<meta charset="utf-8">
<title>Chart.js </title>
<!-- import plugin script -->
<h1>Flask Chart.js</h1>
<canvas id="chart" width="600" height="400"></canvas>
<script>
  // bar chart data
  var barData = {
    labels : [
      {% for item in labels %}
       "{{ item }}",
      {% endfor %}
    ],
    datasets : [{
      fillColor: "rgba(151,187,205,0.2)",
      strokeColor: "rgba(151,187,205,1)",
      pointColor: "rgba(151,187,205,1)",
      data : [
        {% for item in values %}
           "{{ item }}",
          {% endfor %}
        ]
      }
    ]
  }
 // get bar chart canvas
 var mychart = document.getElementById("chart").getContext("2d");
   steps = 5
   max = {{max}}
 // draw bar chart
 new Chart(mychart).Bar(barData, {
   scaleOverride: true,
   scaleSteps: steps,
   scaleStepWidth: Math.ceil(max / steps),
   scaleStartValue: 0,
   scaleShowVerticalLines: true,
   scaleShowGridLines : true,
   barShowStroke : true,
   scaleShowLabels: true
   }
 );
</script>
<h2>boo</h2>

{% endblock %}

